<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    let xhr = new XMLHttpRequest();
    xhr.addEventListener("readystatechange", function () {
        //设置readystatechange事件处理程序
        switch (xhr.readyState) {
            case 0:console.log("未初始化");break;
            case 1:console.log("启动");break;
            case 2:console.log("发送");break;
            case 3:console.log("接收中");break;
            case 4:console.log("完全接收");
            //接收完数据的处理
                if (xhr.status >= 200 && xhr.status < 300
                    || xhr.status === 304) {
                    //判断状态码
                    let data = JSON.parse(xhr.responseText);
                    //响应主体转成js数据
                    console.log(data);
                } else {
                    console.log("请求失败：" + xhr.status);
                } break;
        }
    });
    xhr.open("get", "example.php", true);//启动异步请求
    xhr.send(null);//发送请求
</script>
</body>
</html>